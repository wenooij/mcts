package mcts

import (
	"math"
	"testing"
)

var logSuite = []float32{
	1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,
	17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32,
	33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48,
	49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64,
	65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80,
	81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96,
	97, 98, 99, 100,
	1e0, 1e1, 1e2, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8,
	1e9, 1e10, 1e11, 1e12, 1e13, 1e14, 1e15, 1e16,
	1e17, 1e18, 1e19, 1e20, 1e21, 1e22, 1e23, 1e24,
	1e25, 1e26, 1e27, 1e28, 1e29, 1e30, 1e31, 1e32,
	1592711687, 2574516021, 1305384868, 1478721626,
	684071397, 38303249, 835903135, 1194741872,
	282137336, 2726605093, 3719867068, 3447891336,
	1009042351, 1439832450, 801825004, 1390806701,
	3706879091047852172, 695917195057204076, 8647907819143847933, 6336591080315746654,
	6572862327466004647, 2628158281871773928, 3917601317851761974, 7208026762471721904,
	9065284722760755584, 1871230148511534083, 10145437163404758739, 6491611064124502363,
	7971335130788603544, 6614297601711074061, 8513686800572735716, 16121352637960683916,
}

func BenchmarkFastLog(b *testing.B) {
	var res float64
	for i := 0; i < b.N; i++ {
		for j := 0; j < 256; j++ {
			for _, x := range logSuite {
				res += float64(fastLog(x))
			}
		}
	}
}

func BenchmarkLog(b *testing.B) {
	var res float64
	for i := 0; i < b.N; i++ {
		for j := 0; j < 256; j++ {
			for _, x := range logSuite {
				res += math.Log(float64(x))
			}
		}
	}
}
